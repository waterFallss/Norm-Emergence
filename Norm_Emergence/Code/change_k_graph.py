import seaborn as sns 
import matplotlib.pyplot as plt
import pandas as pd
import numpy as np

k_1 = [296, 263, 295, 294, 301, 254, 225, 195, 286, 199, 251, 267, 250, 247, 202, 204, 218, 228, 313, 244, 202, 215, 279, 276, 208, 254, 228, 335, 209, 236, 224, 215, 324, 226, 245, 357, 229, 190, 258, 191, 218, 384, 219, 206, 212, 301, 258, 220, 250, 263]
k_2 = [284, 269, 300, 446, 382, 376, 350, 274, 265, 270, 252, 314, 435, 243, 230, 262, 278, 224, 249, 267, 386, 346, 274, 605, 243, 255, 311, 347, 484, 355, 417, 256, 254, 340, 355, 632, 304, 497, 211, 277, 284, 264, 252, 1209, 277, 260, 529, 312, 359, 260]
k_4	= [694, 862, 833, 332, 583, 591, 346, 727, 412, 308, 389, 385, 326, 298, 956, 938, 613, 438, 324, 261, 407, 313, 1030, 356, 314, 923, 1057, 1150, 271, 502, 533, 555, 555, 868, 379, 697, 1658, 675, 251, 361, 1391, 374, 536, 534, 789, 1329, 565, 498, 529, 423]
k_6 = [667, 870, 348, 756, 499, 1404, 1391, 424, 651, 470, 1319, 2313, 1214, 607, 1239, 1172, 580, 3021, 1984, 1078, 458, 971, 753, 500, 922, 2493, 1439, 1689, 455, 638, 302, 1106, 1374, 501, 285, 399, 1137, 259, 1562, 2000, 721, 664, 772, 835, 829, 2206, 382, 3040, 1636, 282]
k_8 = [2090, 502, 734, 2689, 862, 1073, 2317, 780, 832, 780, 2009, 1006, 1688, 1122, 926, 1406, 2157, 503, 3582, 732, 2284, 461, 2629, 3476, 1544, 823, 864, 568, 2083, 1051, 581, 2002, 1207, 1065, 1311, 511, 1075, 556, 835, 1530, 1157, 1848, 916, 387, 1694, 671, 976, 1630, 338, 355]
k_10 = [659, 822, 2584, 2113, 741, 598, 2566, 1300, 1386, 1553, 1254, 1367, 926, 1524, 608, 395, 994, 2788, 1260, 2667, 1751, 7546, 1718, 1046, 1973, 815, 538, 703, 2412, 1009, 1186, 2418, 1185, 1284, 1492, 2069, 4010, 736, 1491, 1096, 1063, 3700, 856, 2001, 5682, 498, 1948, 932, 1128, 3444]
k_20 = [1411, 6212, 7194, 4351, 8281, 4443, 1772, 5181, 8234, 4198, 10136, 10506, 2399, 17592, 8170, 1085, 3071, 3585, 14249, 13516, 2300, 2660, 7977, 9990, 19739, 5314, 10073, 839, 7356, 10791, 9105, 4290, 2272, 2127, 2580, 3331, 5383, 3443, 9372, 2419, 2778, 2999, 819, 10488, 5491, 12623, 14413, 11124, 10147, 4377]
k_30 = [13127, 3572, 15130, 5772, 25152, 39163, 4277, 2983, 27337, 12900, 15116, 29036, 23877, 4812, 9776, 3157, 9142, 44261, 7097, 8921, 5687, 5228, 20999, 9085, 21134, 5192, 8655, 25458, 8432, 2454, 4029, 7038, 42250, 3482, 21511, 12940, 3881, 6777, 8883, 8377, 16997, 4827, 9450, 2032, 11018, 4378, 15126, 7838, 13714, 4379]

data = {
    "k=1": k_1,
    "k=2": k_2,
    "k=4": k_4,
    "k=6": k_6,
    "k=8": k_8,
    "k=10": k_10,
}

df = pd.DataFrame(data)

df_melted = df.melt(var_name="K Past Actions", value_name="Number of Episodes")

sns.violinplot(x="K Past Actions", y="Number of Episodes", data=df_melted)
plt.xlabel("K Past Actions", fontsize=14)
plt.ylabel("Number of Episodes", fontsize=14)
plt.show()

# Find the mean of each k value
k_1_mean = sum(k_1) / len(k_1)
k_2_mean = sum(k_2) / len(k_2)
k_4_mean = sum(k_4) / len(k_4)
k_6_mean = sum(k_6) / len(k_6)
k_8_mean = sum(k_8) / len(k_8)
k_10_mean = sum(k_10) / len(k_10)
k_20_mean = sum(k_20) / len(k_20)
k_30_mean = sum(k_30) / len(k_30)

# Standard deviation of each k value
k_1_std = np.std(k_1, ddof=1)
k_2_std = np.std(k_2, ddof=1)
k_4_std = np.std(k_4, ddof=1)
k_8_std = np.std(k_8, ddof=1)
k_6_std = np.std(k_6, ddof=1)
k_10_std = np.std(k_10, ddof=1)
k_20_std = np.std(k_20, ddof=1)
k_30_std = np.std(k_30, ddof=1)


print("Mean of k=1: ", k_1_mean, "Standard Deviation: ", k_1_std)
print("Mean of k=2: ", k_2_mean, "Standard Deviation: ", k_2_std)
print("Mean of k=4: ", k_4_mean, "Standard Deviation: ", k_4_std)
print("Mean of k=6: ", k_6_mean, "Standard Deviation: ", k_6_std)
print("Mean of k=8: ", k_8_mean, "Standard Deviation: ", k_8_std)
print("Mean of k=10: ", k_10_mean, "Standard Deviation: ", k_10_std)
print("Mean of k=20: ", k_20_mean, "Standard Deviation: ", k_20_std)
print("Mean of k=30: ", k_30_mean, "Standard Deviation: ", k_30_std)
